# icom_exchange






# arbiscan链的测试链接
## 1. 接口：https://api-sepolia.arbiscan.io/api?module=logs&action=getLogs&fromBlock=32505407&toBlock=latest&address=0x8dd65b051827cb4cdae059fef3d1a6c0e6526ff8&topic0=0xa6def8fe633e561545c960f3f63d99fc142e7df928fc0973a3ac35958f8698db&apikey=HV4IHFBPR8ZYWRXA119GADSBEF4BUU36RT
**功能**：返回合约事件日志

**返回参数**：
```json
{
  "status": "1",
  "message": "OK",
  "result": [
    {
      "address": "0x8dd65b051827cb4cdae059fef3d1a6c0e6526ff8",
      "topics": [
        "0xa6def8fe633e561545c960f3f63d99fc142e7df928fc0973a3ac35958f8698db"
      ],
      "data": "0x000000000000000000000000b32f54c3f63df8efd216434bb6fb4f02245492ad00000000000000000000000083b68612538269e4ffcb1ec5eed100d0e7f489f300000000000000000000000000000000000000000000000000000000000f424000000000000000000000000000000000000000000000000000000002540be400000000000000000000000000000000000000000000000000000000010642ac0065366a6e7569387100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000002669436f6d46344d4745374462536b656177527362476a51366d536370315938383132316248350000000000000000000000000000000000000000000000000000",
      "blockNumber": "0x2cd1214",
      "blockHash": "0x00babec7d49823a2a020976980ec7ae8b80a53672aa821fd3e0cba27305735f7",
      "timeStamp": "0x664ef346",
      "gasPrice": "0x947c8af0",
      "gasUsed": "0x3f9e3",
      "logIndex": "0x15",
      "transactionHash": "0x09e92ec17eee61052d654fca25d986446101eceaf29f6d224242e143fe6ba192",
      "transactionIndex": "0x4"
    },
    {
      "address": "0x8dd65b051827cb4cdae059fef3d1a6c0e6526ff8",
      "topics": [
        "0xa6def8fe633e561545c960f3f63d99fc142e7df928fc0973a3ac35958f8698db"
      ],
      "data": "0x000000000000000000000000b32f54c3f63df8efd216434bb6fb4f02245492ad00000000000000000000000083b68612538269e4ffcb1ec5eed100d0e7f489f300000000000000000000000000000000000000000000000000000000000f424000000000000000000000000000000000000000000000000000000002540be400000000000000000000000000000000000000000000000000000000028fa6ae0065366a6e7569387100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000002669436f6d46344d4745374462536b656177527362476a51366d536370315938383132316248350000000000000000000000000000000000000000000000000000",
      "blockNumber": "0x2cd4f8f",
      "blockHash": "0xc486b936d55b58d1ca36d5e4db987fef7a0e1c0446a82611b7d234cbc7505ad7",
      "timeStamp": "0x664f02a6",
      "gasPrice": "0x92c935a0",
      "gasUsed": "0x4117f",
      "logIndex": "0x7",
      "transactionHash": "0xebcab33ce58674db84a2cbe110c9335bbf8e773f3f39cfd94bbe791073981041",
      "transactionIndex": "0x1"
    },
    {
      "address": "0x8dd65b051827cb4cdae059fef3d1a6c0e6526ff8",
      "topics": [
        "0xa6def8fe633e561545c960f3f63d99fc142e7df928fc0973a3ac35958f8698db"
      ],
      "data": "0x000000000000000000000000b32f54c3f63df8efd216434bb6fb4f02245492ad00000000000000000000000083b68612538269e4ffcb1ec5eed100d0e7f489f300000000000000000000000000000000000000000000000000000000000f424000000000000000000000000000000000000000000000000000000002540be400000000000000000000000000000000000000000000000000000000010642ac0065366a6e7569387100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000002669436f6d46344d4745374462536b656177527362476a51366d536370315938383132316248350000000000000000000000000000000000000000000000000000",
      "blockNumber": "0x2cd7504",
      "blockHash": "0x0393e43afb584b682341024a04a6349ead90f3246db54142cf3faf709f580248",
      "timeStamp": "0x664f0c09",
      "gasPrice": "0x9d4c18d0",
      "gasUsed": "0x3a74d",
      "logIndex": "0x23",
      "transactionHash": "0x9667af8b634f6efed95c15d7b860c38c3e9481291ee0476ad688871f2dbf90bf",
      "transactionIndex": "0x5"
    },
    {
      "address": "0x8dd65b051827cb4cdae059fef3d1a6c0e6526ff8",
      "topics": [
        "0xa6def8fe633e561545c960f3f63d99fc142e7df928fc0973a3ac35958f8698db"
      ],
      "data": "0x000000000000000000000000ccb2b69c1d4b460046c000fa40b66f19b5a336dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005af3107a400000000000000000000000000000000000000000000000000000000002540be400000000000000000000000000000000000000000000000000000000000006b6c065366a6e7569387100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000002669436f6d32704745467753683870455256626f5854367044354c4e44585961345854695262350000000000000000000000000000000000000000000000000000",
      "blockNumber": "0x2cd915a",
      "blockHash": "0x61b6bc966367a347240fb70484dddcc4ef6f296b622895eedc691c17a18f7f2d",
      "timeStamp": "0x664f1311",
      "gasPrice": "0x8dcaacf0",
      "gasUsed": "0x447a8",
      "logIndex": "0x10",
      "transactionHash": "0xee1d6bd9cc15f87975ddc90a110c5e0b398b8d252d70688278f6e3f1086bd865",
      "transactionIndex": "0x8"
    }
  ]
}
```
**data参数说明**：
-  0x
-  000000000000000000000000b32f54c3f63df8efd216434bb6fb4f02245492ad //sender 发送者
-  00000000000000000000000083b68612538269e4ffcb1ec5eed100d0e7f489f3 //token 代币地址，0地址为eth
-  00000000000000000000000000000000000000000000000000000000000f4240 //amount 代币输入数量
-  00000000000000000000000000000000000000000000000000000002540be400 //rate 兑换比例
-  000000000000000000000000000000000000000000000000000000028fa6ae00 //toAmount 代币输出数量
-  65366a6e75693871000000000000000000000000000000000000000000000000
-  00000000000000000000000000000000000000000000000000000000000000e0
-  0000000000000000000000000000000000000000000000000000000000000026 //icom地址长度，这里存的是16进制的要先转10进制，这里得16进制转10进制为38字节，换算成16进制需再乘2，所以下面icom地址的16进制字符串为69436f6d46344d4745374462536b656177527362476a51366d53637031593838313231624835共76位
-  69436f6d46344d4745374462536b656177527362476a51366d53637031593838 //iAddress icom地址
-  3132316248350000000000000000000000000000000000000000000000000000



**命令说明**：
```
 ////////////////////////////////////////////////////////命令说明//////////////////////////////////////////////////

        pull-log         拉取兑换日志，参数minBlockNumber为空时默认从上一次拉取的最高区块开始，maxBlockNumber为空时拉取到最新高度
        find-log         查询日志，参数minBlockNumber必填，maxBlockNumber必填
        find-log-thash   按TransactionsHash查找，参数TransactionsHash必填
        find-log-ihash   按ICom的TxHash查找，参数TxHash必填
        find-log-iaddr   按ICom的Address查找，参数IAddress必填
        last-block-num   获取已经拉取日志的最高区块高度，无参数
        exit             退出程序
        help             获取取命令说明
```
